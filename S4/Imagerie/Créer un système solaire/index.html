<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>My first three.js app</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 90% }
            #toolbar { color: white; position: absolute; }
            #toolbar a { color: lightgrey; }
            #toolbar a:hover { text-decoration: none; }
        </style>
    </head>
    <body>
        <p id="toolbar">
            <a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene">Documentation</a>
            <a href="mailto:adrien.peytavie@liris.cnrs.fr">adrien.peytavie@liris.cnrs.fr</a>
        </p>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/84/three.js"></script>
        <script>
            // Initialisation of the scene / camera / renderer
            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize( window.innerWidth, window.innerHeight );
            renderer.shadowMap.enabled = true;
            document.body.appendChild( renderer.domElement );
            camera.position.z = 5;
            
            // Initialisation of your objects / materials / light
            var solarSystem = new THREE.Object3D();
            scene.add(solarSystem);
            var ballSun = new THREE.SphereGeometry(1, 60, 60);
            var ballJup = new THREE.SphereGeometry(1, 40, 40);
            var ballMar = new THREE.SphereGeometry(1, 20, 20);
            var ballEur = new THREE.SphereGeometry(1, 5, 5);
            var sunMaterial = new THREE.MeshBasicMaterial( { color: 0xffff00 } );
            var jupMaterial = new THREE.MeshBasicMaterial( { color: 0xff7051 } );
            var marMaterial = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
            var eurMaterial = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
            var sun = new THREE.Mesh(ballSun, sunMaterial);
            var jup = new THREE.Mesh(ballJup, jupMaterial);
            var mar = new THREE.Mesh(ballMar, marMaterial);
            var eur = new THREE.Mesh(ballEur, eurMaterial);
            
            sun.scale.set(0.5, 0.5, 0.5);
            jup.scale.set(0.1, 0.1, 0.1);
            mar.scale.set(0.05, 0.05, 0.05);
            eur.scale.set(0.05, 0.05, 0.05);

            solarSystem.add(sun);
            solarSystem.add(jup);
            solarSystem.add(mar);
            solarSystem.add(eur);
            
            var angleJup = 0;
            var angleMar = 0;
            var angleEur = 0;


            // This is executed for each frames
            function render() {
                requestAnimationFrame( render );
                // Animation code goes here
                angleJup += 0.017;
                jup.position.x = 2 * Math.cos(angleJup);
                jup.position.y = 2 * Math.sin(angleJup);
                
                angleMar += 0.034;
                mar.position.x = 1 * Math.cos(angleMar);
                mar.position.y = 1 * Math.sin(angleMar);

                angleEur += 0.05;
                eur.position.x = (jup.position.x) + Math.cos(angleEur)/2;
                eur.position.y = (jup.position.y) + Math.sin(angleEur)/2;
                
                renderer.render( scene, camera );
            }
            render();
        </script>
    </body>
</html>